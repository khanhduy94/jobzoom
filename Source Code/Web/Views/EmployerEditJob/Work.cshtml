@{
    ViewBag.Title = "Work";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="../../Content/jquery.tagit.css" rel="stylesheet" type="text/css" />
<script src="../../Scripts/tag-it.js" type="text/javascript" ></script>
<div id="hidden-workexpid" workexpid="@Url.RequestContext.RouteData.Values["id"]" ></div>
<script type="text/javascript">
    // increase the default animation speed to exaggerate the effect
    var workexpid = $("#hidden-workexpid").attr("workexpid");    
    $.fx.speeds._default = 1000;
    $(function () {
        $("#work-dialog").dialog({
            autoOpen: false,
            height: 600,
            width: 700,
            show: "blind",
            hide: "explode",
            buttons: {
                "Save": function () {
                    $.post("/Employer/Job/Edit/SaveWork",
                        $("#EditWorkExpView").serialize(),
                        function (data) {
                            $("#work-dialog").dialog("close");
                            $("#divWorkExpList").html(data);
                        });
                },
                Cancel: function () {
                    $(this).dialog("close");
                }
            }
        });

        $("#create-work").click(function () {
            $("#work-dialog").html("")
                .dialog("option", "title", "Create Work")
                .load("/Employer/Job/Edit/CreateWork/" + workexpid, function () { $("#work-dialog").dialog("open"); });
        });
        $(".edit-work").live("click", function () {
            var id = $(this).attr("profileworkid");
            $("#work-dialog").html("")
                .dialog("option", "title", "Edit Work")
                .load("/Employer/Job/Edit/EditWork/" + id, function () { $("#work-dialog").dialog("open"); });
        });
        LoadProfileWorkList();

        $("#graph-dialog").dialog({
            autoOpen: false,
            height: 700,
            width: 900,
            show: "blind"
        });
        $("#view-graph").click(function () {
            $("#graph-dialog").html("")
                .dialog("option", "title", "Create Education")
                .load("/Employer/Job/Edit/CreateGraph/" + workexpid, function () { $("#graph-dialog").dialog("open"); });
        });        
    });
    function LoadProfileWorkList() {
        $("#divWorkExpList").load("/Employer/Job/Edit/ListWorks/" + workexpid);
    }
</script>

<h1>Work Experience</h1>

@Html.ActionLink("1.Basic", "Basic", "EmployerEditJob", new { id = Url.RequestContext.RouteData.Values["id"] }, null)
@Html.ActionLink("2.Education Experience", "Education", "EmployerEditJob", new { id = Url.RequestContext.RouteData.Values["id"] }, null)
@Html.ActionLink("3.Work Experience", "Work", "EmployerEditJob", new { id = Url.RequestContext.RouteData.Values["id"] }, null)
@Html.ActionLink("4.Addition", "Work", "EmployerEditJob", new { id = Url.RequestContext.RouteData.Values["id"] }, null)
@Html.ActionLink("5.Asign Weighted", "Weight", "EmployerEditJob", new { id = Url.RequestContext.RouteData.Values["id"] }, null)

<p>
    <button id="create-work">
        Create new work</button>
    <button id="view-graph">
        View Graph</button>
</p>
<div id="divWorkExpList">
</div>
<div id="work-dialog" title="" class="Hidden">
</div>
<div id="graph-dialog" title="" class="Hidden">
</div>